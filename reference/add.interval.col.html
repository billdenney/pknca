<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add columns for calculations within PKNCA intervals — add.interval.col • PKNCA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add columns for calculations within PKNCA intervals — add.interval.col"><meta name="description" content="Add columns for calculations within PKNCA intervals"><meta property="og:description" content="Add columns for calculations within PKNCA intervals"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PKNCA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.11.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v01-introduction-and-usage.html">Introduction to PKNCA and Usage Instructions</a></li>
    <li><a class="dropdown-item" href="../articles/v02-example-theophylline.html">Computing NCA Parameters for Theophylline</a></li>
    <li><a class="dropdown-item" href="../articles/v03-selection-of-calculation-intervals.html">Selection of Calculation Intervals</a></li>
    <li><a class="dropdown-item" href="../articles/v04-sparse.html">Sparse NCA Calculations</a></li>
    <li><a class="dropdown-item" href="../articles/v05-auc-calculation-with-PKNCA.html">AUC Calculation with PKNCA</a></li>
    <li><a class="dropdown-item" href="../articles/v06-half-life-calculation-tobit.html">Half-life calculation with Tobit regression</a></li>
    <li><a class="dropdown-item" href="../articles/v06-half-life-calculation.html">Half-Life Calculation</a></li>
    <li><a class="dropdown-item" href="../articles/v07-post-processing.html">Post-Processing</a></li>
    <li><a class="dropdown-item" href="../articles/v07-unit-conversion.html">Unit Assignment and Conversion with PKNCA</a></li>
    <li><a class="dropdown-item" href="../articles/v08-data-imputation.html">Data Imputation</a></li>
    <li><a class="dropdown-item" href="../articles/v20-superposition.html">Superposition of Pharmacokinetic Data</a></li>
    <li><a class="dropdown-item" href="../articles/v21-methods-for-dose-aware-interpolation-and-extrapolation.html">Methods Used for Dose-Aware Concentration Interpolation/Extrapolation</a></li>
    <li><a class="dropdown-item" href="../articles/v22-time-to-steady-state.html">Noncompartmental evaluation of time to steady-state</a></li>
    <li><a class="dropdown-item" href="../articles/v23-auc-integration-methods.html">AUC integration methods</a></li>
    <li><a class="dropdown-item" href="../articles/v30-training-session.html">PKNCA Training Sessions</a></li>
    <li><a class="dropdown-item" href="../articles/v40-options-for-controlling-PKNCA.html">Options for Controlling PKNCA</a></li>
    <li><a class="dropdown-item" href="../articles/v60-PKNCA-validation.html">PKNCA Validation</a></li>
    <li><a class="dropdown-item" href="../articles/v80-writing-parameter-functions.html">Writing PKNCA Parameter Functions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/billdenney/pknca/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add columns for calculations within PKNCA intervals</h1>
      <small class="dont-index">Source: <a href="https://github.com/billdenney/pknca/blob/main/R/001-add.interval.col.R" class="external-link"><code>R/001-add.interval.col.R</code></a></small>
      <div class="d-none name"><code>add.interval.col.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add columns for calculations within PKNCA intervals</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add.interval.col</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">FUN</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="va">unit_type</span>,</span>
<span>  <span class="va">pretty_name</span>,</span>
<span>  depends <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  desc <span class="op">=</span> <span class="st">""</span>,</span>
<span>  sparse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  formalsmap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  datatype <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"interval"</span>, <span class="st">"individual"</span>, <span class="st">"population"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>The column name as a character string</p></dd>


<dt id="arg-fun">FUN<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>The function to run (as a character string) or <code>NA</code> if the
parameter is automatically calculated when calculating another parameter.</p></dd>


<dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>Valid values for the column</p></dd>


<dt id="arg-unit-type">unit_type<a class="anchor" aria-label="anchor" href="#arg-unit-type"></a></dt>
<dd><p>The type of units to use for assigning and converting units.</p></dd>


<dt id="arg-pretty-name">pretty_name<a class="anchor" aria-label="anchor" href="#arg-pretty-name"></a></dt>
<dd><p>The name of the parameter to use for printing in summary
tables with units.  (If an analysis does not include units, then the normal
name is used.)</p></dd>


<dt id="arg-depends">depends<a class="anchor" aria-label="anchor" href="#arg-depends"></a></dt>
<dd><p>Character vector of columns that must be run before this
column.</p></dd>


<dt id="arg-desc">desc<a class="anchor" aria-label="anchor" href="#arg-desc"></a></dt>
<dd><p>A human-readable description of the parameter (&lt;=40 characters to
comply with SDTM)</p></dd>


<dt id="arg-sparse">sparse<a class="anchor" aria-label="anchor" href="#arg-sparse"></a></dt>
<dd><p>Is the calculation for sparse PK?</p></dd>


<dt id="arg-formalsmap">formalsmap<a class="anchor" aria-label="anchor" href="#arg-formalsmap"></a></dt>
<dd><p>A named list mapping parameter names in the function call
to NCA parameter names.  See the details for information on use of
<code>formalsmap</code>.</p></dd>


<dt id="arg-datatype">datatype<a class="anchor" aria-label="anchor" href="#arg-datatype"></a></dt>
<dd><p>The type of data used for the calculation</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>NULL (Calling this function has a side effect of changing the
available intervals for calculations)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>formalsmap</code> argument enables mapping some alternate formal
argument names to parameters.  It is used to generalize functions that may
use multiple similar arguments (such as the variants of mean residence time).
The names of the list should correspond to function formal parameter names
and the values should be one of the following:</p>
<ul><li><p>For the current interval:</p><dl><dt>character strings of NCA parameter name</dt>
<dd><p>The value of the parameter calculated for the current interval.</p></dd>

<dt>"conc"</dt>
<dd><p>Concentration measurements for the current interval.</p></dd>

<dt>"time"</dt>
<dd><p>Times associated with concentration measurements for the current interval (values start at 0 at the beginning of the current interval).</p></dd>

<dt>"volume"</dt>
<dd><p>Volume associated with concentration measurements for the current interval (typically applies for excretion parameters like urine).</p></dd>

<dt>"duration.conc"</dt>
<dd><p>Durations associated with concentration measurements for the current interval.</p></dd>

<dt>"dose"</dt>
<dd><p>Dose amounts assocuated with the current interval.</p></dd>

<dt>"time.dose"</dt>
<dd><p>Time of dose start associated with the current interval (values start at 0 at the beginning of the current interval).</p></dd>

<dt>"duration.dose"</dt>
<dd><p>Duration of dose (typically infusion duration) for doses in the current interval.</p></dd>

<dt>"route"</dt>
<dd><p>Route of dosing for the current interval.</p></dd>

<dt>"start"</dt>
<dd><p>Time of interval start.</p></dd>

<dt>"end"</dt>
<dd><p>Time of interval end.</p></dd>

<dt>"options"</dt>
<dd><p>PKNCA.options governing calculations.</p></dd>


</dl></li>
<li><p>For the current group:</p><dl><dt>"conc.group"</dt>
<dd><p>Concentration measurements for the current group.</p></dd>

<dt>"time.group"</dt>
<dd><p>Times associated with concentration measurements for the current group (values start at 0 at the beginning of the current interval).</p></dd>

<dt>"volume.group"</dt>
<dd><p>Volume associated with concentration measurements for the current interval (typically applies for excretion parameters like urine).</p></dd>

<dt>"duration.conc.group"</dt>
<dd><p>Durations assocuated with concentration measurements for the current group.</p></dd>

<dt>"dose.group"</dt>
<dd><p>Dose amounts assocuated with the current group.</p></dd>

<dt>"time.dose.group"</dt>
<dd><p>Time of dose start associated with the current group (values start at 0 at the beginning of the current interval).</p></dd>

<dt>"duration.dose.group"</dt>
<dd><p>Duration of dose (typically infusion duration) for doses in the current group.</p></dd>

<dt>"route.group"</dt>
<dd><p>Route of dosing for the current group.</p></dd>


</dl></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Interval specifications:
<code><a href="check.interval.deps.html">check.interval.deps</a>()</code>,
<code><a href="check.interval.specification.html">check.interval.specification</a>()</code>,
<code><a href="choose.auc.intervals.html">choose.auc.intervals</a>()</code>,
<code><a href="get.interval.cols.html">get.interval.cols</a>()</code>,
<code><a href="get.parameter.deps.html">get.parameter.deps</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">add.interval.col</span><span class="op">(</span><span class="st">"cmax"</span>,</span></span>
<span class="r-in"><span>                 FUN<span class="op">=</span><span class="st">"pk.calc.cmax"</span>,</span></span>
<span class="r-in"><span>                 values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 unit_type<span class="op">=</span><span class="st">"conc"</span>,</span></span>
<span class="r-in"><span>                 pretty_name<span class="op">=</span><span class="st">"Cmax"</span>,</span></span>
<span class="r-in"><span>                 desc<span class="op">=</span><span class="st">"Maximum observed concentration"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">add.interval.col</span><span class="op">(</span><span class="st">"cmax.dn"</span>,</span></span>
<span class="r-in"><span>                 FUN<span class="op">=</span><span class="st">"pk.calc.dn"</span>,</span></span>
<span class="r-in"><span>                 values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 unit_type<span class="op">=</span><span class="st">"conc_dosenorm"</span>,</span></span>
<span class="r-in"><span>                 pretty_name<span class="op">=</span><span class="st">"Cmax (dose-normalized)"</span>,</span></span>
<span class="r-in"><span>                 desc<span class="op">=</span><span class="st">"Maximum observed concentration, dose normalized"</span>,</span></span>
<span class="r-in"><span>                 formalsmap<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>parameter<span class="op">=</span><span class="st">"cmax"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 depends<span class="op">=</span><span class="st">"cmax"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bill Denney, Clare Buckeridge.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

